#summary Changes, In Progress, Issues, To Do.
#labels Featured

= Introduction =

This page contains a change log, working notes on issues, items to-do, and items currently in progress.

= Changes =

== In Progress ==

== Issues ==

== To Do ==

  * Integrate geom.collide() into QuadTree.collide().
  * Document quad_tree.py.
  * Document world_type and special args in Engine.

== Changes in 0.0.1 ==

SVN rev 58:
  * New: function collapse_map_level().
  * Fixed: tile combining for sparse map levels in function collapse_map_level(). Color key was not preserved in some cases.
  * Changed: Camera.interpolate now returns the interpolation value.
  * Changed: toolkit.load_tiled_maps() renamed to load_tiled_tmx_maps().
  * Changed: MapLayer now stores per-layer attributes, tile_size and map_size so that individual layers can be collapsed.
  * Changed: Camera.visible_tile_range now returns a list of (x1,y1,x2,y2) tuples, one for each layer.
  * Changed: Camera.visible_tiles now returns a list of MapLayer objects, one for each layer.
  * Changed: toolkit functions modified to use the Map, MapLayer, and Camera changes: make_tiles(), make_tiles2(), load_tiled_tmx_maps(), collapse_map_level(), draw_tiles(), draw_labels(), and draw_grid().
  * Changed: toolkit functions draw_labels(), and draw_grid() now have a default argument layer=0.
  * Changed: `__init__.py` now imports Map and MapLayer before Camera.

SVN rev 60:
  * Changed: __init__.py, Map and MapLayer imported before Camera.
  * Changed: camera.py, roles of update() and interpolate() changed.
  * Changed: camera.py, interpolate() simplified.
  * Changed: screen.py, Screen class split off into a Surface class for subsurfaces.
  * Changed: examples tweaked for compatibility.

== Changes in 0.0.2 ==

SVN rev 64:
  * New: sprite.py with BucketSprite and BucketGroup.
  * Changed: __init__.py imports classes from sprite.py.

SVN rev 71:
  * Fixed: "TypeError: integer argument expected, got float" when passing a float tuple to pygame.draw.circle() in examples 6 through 9. Apparently at some point in the near future this will raise an exception rather than give a warning.

SVN rev 75:
  * Changed: BucketGroup constructor now takes tile_size and map_size arguments instead of a map.

== Changes in 0.0.3 ==

SVN rev 77:
  * New: CameraTargetSprite class, a sprite that moves around the map but remains stationary on the screen. (Typical of action-RPG scrollers.)
  * Changed: Examples 6-9 updated to use the CameraTargetSprite class.
  * Changed: Examples 6-9, extraneous "switch view" code removed so the examples are less cluttered with off-topic crap.
  * Changed: grides and grid label sprites moved from Map to MapLevel class. MapLevel.__init__ now takes default args (make_grid=False, make_labels=False).
  * Changed: toolkit.py; map, label, and grid functions tweaked to use the new MapLevel class correctly.

== Changes in 0.0.4 ==

SVN rev 91:
  * Changed: dim is now an optional argument for BucketGroup.draw(), update(), buckets_in_range(). If omitted it defaults to all sprites. sprites_in_range() was not changed in this manner; it would much more efficient to call group.sprites().
  * Changed: BucketGroup.update() modified to copy sprites out of the buckets before looping through them. This was required because looping through the buckets caused a sprite to be updated twice if its update() method caused it to move to a bucket pending update.
  * New: Camera.`_`interp exposed as read-only property interp.
  * New: toolkit.interpolated_step() calculates the position between poles, given the current position, the step, and the clock interpolation value.
  * New: Added BucketGroup.copy().
  * New: examples/10_minimap.py.
  * New: examples/11_multiple_maps_and_cameras.py.
  * Changed: Numerous docstring updates.

== Changes in 0.0.5 ==

SVN rev 99:
  * Changed: model.Object implemented as a pygame Sprite-alike. Replaces model.Avatar.
  * Changed: model.World implemented as a pygame AbstractGroup-alike.
  * Changed: Engine modified to use model module changes.
  * Changed: examples/11_multiple_maps_and_cameras.py modified to use model module changes.

SVN rev 108:
  * New: quad_tree.py, optional quad tree implementation for model.QuadTreeWorld.
  * Changed: `__init__.py` imports new items from engine.
  * Changed: engine.py has new world_type module data, supports new constructor arguments, and is aware of new QuadTreeWorld.
  * Changed: examples updated to work with library changes.
  * New: examples 12_quad_tree_stress_test.py and 13_simple_world.py.

== Changes in 0.0.6 ==

SVN rev 115:
  * New: many collision routines added to geometry.py.
  * New: 14_collision_sandbox.py unit test.

SVN rev 118:
  * Fixes: containment tests in geometry.py.
  * Fixes: tweaks in examples/14_collision_sandbox.py.

SVN rev 120:
  * New: QuadTree can now do collision test combinations: rect-vs-rect, shape-vs-shape, or rect first followed by shape. This takes advantage of the new callbacks in the geometry module.
  * Changed: Engine accepts arguments for QuadTree constructor.
  * New: examples/15_quad_tree_geometry_test.py demos shape-vs-shape collisions.
  * Fixed: examples/12_quad_tree_stress_test.py, Thing.update() code rearranged to correct mistakes in coloring and alpha per game tick.

SVN rev 122:
  * Fixed: `quadtree_*` kwargs mistake in Engine constructor.
  * Fixed: small but critical mistakes in geometry.rect_collided_other, in the rect case.
  * Fixed: forgotten rect_pre_tested=True in QuadTree.`_`collided_full.
  * Fixed: collision detection scope anomally involving objects placed in catch-all branches.
  * Fixed: examples/12_quad_tree_stress_test.py and 15_quad_tree_geometry_test.py timing issue in make_hud() which resulted in intermittent "Statf.image not found".
  * New: code in Stat.update() and Statf.update() to gracefully handle callbacks returning None value.

SVN rev 126:
  * Change: Camera.screen_position property obsolesced. Renamed to screen_center. This is overdue. The name makes more sense for its intended usage.
  * New: Camera.abs_screen_center property added.
Changed: some examples modified for compatibility with camera changes.
  * Fixed: some examples were broken by geometry.line_intersects_line() change. These are fixed.
  * Fixed: speed box calculations were broken in 09_collapse_map.py. These are now working.

SVN rev 131:
  * New: classes RectGeometry, CircleGeometry, PolyGeometry added to geometry module.
  * Changed: examples/15_quad_tree_geometry_test.py updated to use new geometry module classes. Looks a lot nicer.